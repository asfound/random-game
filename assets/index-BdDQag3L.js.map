{"version":3,"file":"index-BdDQag3L.js","sources":["../../js/score.js","../../js/leaderboard.js","../../../../../../../../assets/audio/viewer.mp3","../../../../../../../../assets/audio/reviewer.mp3","../../../../../../../../assets/audio/silence.mp3","../../../../../../../../assets/audio/notification.mp3","../../js/audio.js","../../js/game-logic.js","../../js/input.js","../../js/game-setup.js","../../js/texts.js","../../js/rules.js","../../js/tabs.js","../../main.js"],"sourcesContent":["export function saveScore(score) {\n  let scores = JSON.parse(localStorage.getItem(\"asfound_game_localScores\")) || [];\n  if (scores.length < 10 || score > scores[scores.length - 1]) {\n    scores.push(score);\n    scores.sort((a, b) => b - a);\n    if (scores.length > 10) {\n      scores.pop();\n    }\n    localStorage.setItem(\"asfound_game_localScores\", JSON.stringify(scores));\n  }\n}\n\nexport function generateScoreTab() {\n  const scoresJson = localStorage.getItem(\"asfound_game_localScores\");\n  const storedScores = scoresJson ? JSON.parse(scoresJson) : [];\n\n  const tab = document.querySelector(\".score\");\n  tab.innerHTML = \"\";\n\n  const scoreList = document.createElement(\"ol\");\n  scoreList.classList.add(\".score__list\");\n  tab.appendChild(scoreList);\n\n  storedScores.forEach((score, index) => {\n    const listItem = document.createElement(\"li\");\n    listItem.classList.add(\"score__item\");\n\n    listItem.innerHTML = `\n      <span class=\"score__rank\">${index + 1}.</span>\n      <span class=\"score__value\">${score}</span>\n    `;\n\n    scoreList.appendChild(listItem);\n  });\n}\n","const binId = \"6702c398acd3cb34a8923d9d\";\nconst apiKey = \"$2a$10$lxCiUALMchhbANQOgqQzqOAM0viir8h9pKA7OCtL9XLvmZAa0HBp.\";\nconst apiUrl = `https://api.jsonbin.io/v3/b/${binId}`;\n\nasync function getScores() {\n  try {\n    const response = await fetch(apiUrl, {\n      headers: {\n        \"X-Access-Key\": apiKey,\n        \"Content-Type\": \"application/json\",\n        \"X-Bin-Meta\": false,\n      },\n    });\n    const data = await response.json();\n    return data.top;\n  } catch (error) {\n    console.error(\"Ошибка при получении данных:\", error);\n  }\n}\n\n// let newScore = {\n//     name: \"Player1\",\n//     score: 123,\n//   };\n\n//  updateScores(newScore);\n\nexport async function updateScores(newScore) {\n  try {\n    const currentScores = await getScores();\n    if (\n      currentScores.length < 10 ||\n      newScore.score > currentScores[currentScores.length - 1].score\n    ) {\n      currentScores.push(newScore);\n      currentScores.sort((a, b) => b.score - a.score);\n      if (currentScores.length > 10) {\n        currentScores.pop();\n      }\n    }\n    const response = await fetch(apiUrl, {\n      method: \"PUT\",\n      headers: {\n        \"X-Access-Key\": apiKey,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ top: currentScores }),\n    });\n\n    if (!response.ok) {\n      console.error(\"Ошибка при обновлении данных\");\n    }\n  } catch (error) {\n    console.error(\"Ошибка при сохранении данных:\", error);\n  }\n}\n\nexport async function generateLeaderboardTab() {\n  const tab = document.querySelector(\".leaderboard\");\n  tab.innerHTML = \"\";\n  const loader = document.querySelector(\".loader\");\n  loader.classList.remove(\"hidden\");\n\n  try {\n    const scores = await getScores();\n\n    const leaderboardList = document.createElement(\"ol\");\n    leaderboardList.classList.add(\"leaderboard__list\");\n    tab.appendChild(leaderboardList);\n\n    if (scores && scores.length > 0) {\n      scores.forEach((player, index) => {\n        const listItem = document.createElement(\"li\");\n        listItem.classList.add(\"leaderboard__item\");\n\n        listItem.innerHTML = `\n        <span class=\"leaderboard__rank\">${index + 1}.</span>\n        <span class=\"leaderboard__name\">${player.name}</span>\n        <span class=\"leaderboard__score\">${player.score}</span>\n      `;\n\n        leaderboardList.appendChild(listItem);\n      });\n    }\n  } catch (error) {\n    console.error(\"Ошибка при получении данных:\", error);\n  } finally {\n    loader.classList.add(\"hidden\");\n  }\n}\n","export default \"__VITE_PUBLIC_ASSET__7e9af0f4__\"","export default \"__VITE_PUBLIC_ASSET__7d61408c__\"","export default \"__VITE_PUBLIC_ASSET__b04389d8__\"","export default \"__VITE_PUBLIC_ASSET__a7bf487d__\"","import hitViewer from \"/assets/audio/viewer.mp3\";\nimport hitReviewer from \"/assets/audio/reviewer.mp3\";\nimport backgroundSound from \"/assets/audio/silence.mp3\";\nimport notification from \"/assets/audio/notification.mp3\";\nimport { isFlashOn } from \"./game-logic\";\nlet isMuted = false;\n\nconst sounds = {\n  hitViewer: new Audio(hitViewer),\n  hitReviewer: new Audio(hitReviewer),\n  backgroundSound: new Audio(backgroundSound),\n  notification: new Audio(notification),\n};\n\nexport function playSound(soundName) {\n  if (!isMuted) {\n    const sound = sounds[soundName];\n    if (sound) {\n      sound.play();\n    }\n  }\n}\n\nexport function playBackgroundSound() {\n  if (!isMuted) {\n    const background = sounds.backgroundSound;\n    background.loop = true;\n    background.volume = 0.1;\n    background.play();\n  }\n}\n\nexport function stopBackgroundSound() {\n  const background = sounds.backgroundSound;\n  if (background) {\n    background.pause();\n    background.currentTime = 0;\n  }\n}\n\nconst soundIcon = document.querySelector(\".mute__icon\");\nconst muteButton = document.querySelector(\".sound__button\");\nmuteButton.addEventListener(\"click\", () => {\n  isMuted = !isMuted;\n  toggleMuteIcon();\n  if (!isMuted && isFlashOn) {\n    playBackgroundSound();\n  } else {\n    stopBackgroundSound();\n  }\n});\n\nfunction toggleMuteIcon() {\n  if (isMuted) {\n    soundIcon.src = \"./assets/icons/mute.png\";\n  } else {\n    soundIcon.src = \"./assets/icons/audio.png\";\n  }\n}\n","import { saveScore } from \"./score\";\nimport { updateScores } from \"./leaderboard\";\n\nimport {\n  playSound,\n  playBackgroundSound,\n  stopBackgroundSound,\n} from \"./audio.js\";\n\nexport let isFlashOn = false;\nexport let gameOver = true;\nlet score;\nlet lives;\nlet moleInterval;\nlet timer;\nlet countdown;\nlet toRemove;\nlet isCapLifted = false;\nlet currentMoleTile = null;\n\nexport function startGame() {\n  if (!gameOver) {\n    return;\n  }\n  document.querySelector(\".main__button\").innerText = \"Сбросить\";\n  resetStats();\n  gameOver = false;\n  score = 0;\n  lives = 3;\n  timer = 60;\n  moleInterval = setInterval(placeMole, 500);\n  setCountdown();\n}\n\nfunction placeMole() {\n  if (isCapLifted) {\n    toggleCurrentCap();\n    isCapLifted = false;\n  } else {\n    if (gameOver) return;\n    if (currentMoleTile) {\n      removeLastMole();\n    }\n    createMole();\n    toggleCurrentCap();\n    isCapLifted = true;\n  }\n}\n\nfunction createMole() {\n  let moleType = getRandomMole();\n  let mole = document.createElement(\"img\");\n  mole.classList.add(\"mole\");\n  mole.draggable = false;\n  mole.src = `./assets/images/mole_${moleType}.svg`;\n  if (moleType === \"1\") {\n    mole.classList.add(\"viewer\");\n  }\n\n  mole.addEventListener(\"click\", handleClick, { once: true });\n  mole.addEventListener(\"touchstart\", handleClick, { once: true });\n\n  let id = getRandomTile();\n  currentMoleTile = document.getElementById(id);\n  currentMoleTile.appendChild(mole);\n}\n\nfunction getRandomTile() {\n  let id = Math.floor(Math.random() * 9);\n  return id.toString();\n}\n\nfunction getRandomMole() {\n  let id = Math.floor(Math.random() * 2);\n  return id.toString();\n}\n\nfunction handleClick(event) {\n  event.preventDefault();\n\n  event.target.classList.add(\"hit\");\n  if (event.target.classList.contains(\"viewer\")) {\n    playSound(\"hitViewer\");\n    lives -= 1;\n    if (lives === 0) {\n      score = 0;\n      endGame();\n    }\n    updateLives();\n  } else {\n    playSound(\"hitReviewer\");\n    score += 10;\n    if (score === 100) {\n      endGame();\n    }\n    document.querySelector(\".stats__score\").innerHTML = `${score}/100`;\n  }\n}\n\nfunction updateLives() {\n  const life = \"#\";\n  document.querySelector(\".lives__current\").innerHTML = `${life.repeat(lives)}`;\n  document.querySelector(\".lives__lost\").innerHTML = `${life.repeat(\n    3 - lives\n  )}`;\n}\n\nexport function resetGame() {\n  if (isCapLifted) {\n    toggleCurrentCap();\n    isCapLifted = false;\n  }\n  clearIntervals();\n  gameOver = true;\n\n  if (currentMoleTile?.querySelector(\".tile__cap\")) {\n    const tileCap = currentMoleTile.querySelector(\".tile__cap\");\n    if (tileCap) {\n      tileCap.addEventListener(\n        \"transitionend\",\n        () => {\n          removeLastMole();\n          currentMoleTile = null;\n          resetStats();\n        },\n        { once: true }\n      );\n    }\n  }\n  document.querySelector(\".main__button\").innerHTML = \"Начать\";\n}\n\nfunction endGame() {\n  if (isCapLifted) {\n    toggleCurrentCap();\n    isCapLifted = false;\n  }\n  clearIntervals();\n  gameOver = true;\n\n  const finalScore = calculateScore(score, timer, isFlashOn);\n  saveScore(finalScore);\n\n  const newEntry = generateScoreEntry(finalScore);\n  updateScores(newEntry);\n\n  currentMoleTile.querySelector(\".tile__cap\").addEventListener(\n    \"transitionend\",\n    () => {\n      removeLastMole();\n      currentMoleTile = null;\n      generateScoreAlert(finalScore);\n      resetStats();\n    },\n    { once: true }\n  );\n  document.querySelector(\".main__button\").innerHTML = \"Начать\";\n}\n\nfunction toggleCurrentCap() {\n  if (currentMoleTile) {\n    const tileCap = currentMoleTile.querySelector(\".tile__cap\");\n    if (tileCap) {\n      tileCap.classList.toggle(\"lifted\");\n    }\n  } else {\n    return;\n  } \n}\n\nfunction setCountdown() {\n  countdown = setInterval(() => {\n    timer--;\n    document.querySelector(\".stats__time\").textContent = `${timer}`;\n\n    if (timer == 0) {\n      endGame();\n    }\n  }, 1000);\n}\n\nexport function clearIntervals() {\n  clearInterval(countdown);\n  clearInterval(moleInterval);\n}\n\nfunction generateScoreAlert(currentScore) {\n  const dialog = document.querySelector(\".dialog\");\n  const dialogMessage = document.querySelector(\".dialog__message\");\n\n  if (lives === 0) {\n    dialogMessage.textContent = `Тебя отчислили!\\nТвой счет: ${currentScore}.\\nПопробуй еще раз.`;\n  }\n  if (timer <= 0) {\n    dialogMessage.textContent = `Ты не успел вернуть все баллы!\\nТвой счет: ${currentScore}.\\nПопробуй еще раз.`;\n  }\n  if (score === 100) {\n    dialogMessage.textContent = `Ура, ты вернул свои баллы!\\nТвой итоговый счет: ${currentScore}.\\n`;\n  }\n\n  playSound(\"notification\");\n  dialog.showModal();\n}\n\ndocument.querySelector(\".dialog__button\").addEventListener(\"click\", () => {\n  const dialog = document.querySelector(\".dialog\");\n  const dialogMessage = document.querySelector(\".dialog__message\");\n\n  dialog.close();\n  dialogMessage.textContent = \"\";\n});\n\nfunction resetStats() {\n  document.querySelector(\".stats__time\").innerHTML = \"60\";\n  document.querySelector(\".stats__score\").innerHTML = \"0/100\";\n  document.querySelector(\".lives__lost\").innerHTML = \"\";\n  document.querySelector(\".lives__current\").innerHTML = \"###\";\n}\n\nfunction removeLastMole() {\n  if (currentMoleTile) {\n    toRemove = currentMoleTile.querySelector(\".mole\");\n    toRemove.remove();\n  } else {\n    return;\n  }\n}\n\nfunction calculateScore(score, timer, isDouble) {\n  if (timer > 0 && score > 0) {\n    score += timer;\n  }\n  if (isDouble) {\n    score *= 2;\n  }\n  return score;\n}\n\nfunction generateScoreEntry(score) {\n  const currentPlayer = localStorage.getItem(\"asfound_game_playerName\");\n\n  const newEntry = {\n    name: currentPlayer,\n    score: score,\n  };\n\n  return newEntry;\n}\n\nconst flashlight = document.querySelector(\".flashlight\");\nconst flashContainer = document.querySelector(\".flashlight__container\");\nconst flashButton = document.querySelector(\".flash__button\");\n\nflashButton.addEventListener(\"click\", toggleFlash);\n\nfunction toggleFlash() {\n  if (isFlashOn) {\n    stopBackgroundSound();\n  } else {\n    playBackgroundSound();\n  }\n  resetGame();\n  flashContainer.classList.toggle(\"hidden\");\n  isFlashOn = !isFlashOn;\n}\n\ndocument.addEventListener(\"keydown\", function (event) {\n  if (event.key === \"Escape\" || event.code === \"Escape\") {\n    if (isFlashOn) {\n      flashContainer.classList.add(\"hidden\");\n      resetGame();\n      stopBackgroundSound();\n      isFlashOn = !isFlashOn;\n    }\n  }\n});\n\ndocument.addEventListener(\"mousemove\", (event) => {\n  const x = event.clientX;\n  const y = event.clientY;\n\n  flashlight.style.left = `${x}px`;\n  flashlight.style.top = `${y}px`;\n});\n\nfunction setFlashlightStyles() {\n  flashlight.style.boxShadow = \"0 0 0 9999px #000\";\n  flashlight.style.width = \"350px\";\n  flashlight.style.height = \"350px\";\n  flashlight.style.transform = \"translate(-50%, -50%)\";\n  flashlight.style.position = \"absolute\";\n  flashlight.style.zIndex = \"100\";\n  flashlight.style.background =\n    \"radial-gradient(circle, rgba(0, 0, 0, 0.11) 10%, rgba(0, 0, 0, 0) 48%, rgba(0, 0, 0, 0.72) 60%, rgba(0, 0, 0, 1) 70%)\";\n}\n\nsetInterval(setFlashlightStyles, 100);\n","export const input = document.querySelector(\".input\");\nconst check = document.querySelector(\".check\");\n\n\ninput.addEventListener('input', () => {\n    if (input.value.trim() !== '') {\n        check.classList.remove(\"hidden\");\n    } else {\n        check.classList.add(\"hidden\");\n    }\n});\n\n\nfunction saveName() {\n    const name = input.value.trim().slice(0, 11);\n    if (name !== '') {\n        localStorage.setItem('asfound_game_playerName', name);\n        check.classList.add(\"hidden\");\n        input.blur();\n    }\n}\n\ninput.addEventListener('keydown', (event) => {\n    if (event.key === 'Enter') {\n        saveName();\n    }\n});\n\ncheck.addEventListener('click', saveName);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const savedName = localStorage.getItem('asfound_game_playerName');\n    if (savedName) {\n        input.value = savedName; \n        check.classList.add(\"hidden\");\n    }\n});\n\nexport function checkName() {\n    const savedName = localStorage.getItem('asfound_game_playerName');\n    return !!savedName;\n}","import { startGame, resetGame, gameOver } from \"./game-logic\";\nimport { checkName, input } from \"./input\";\n\nimport { playSound } from \"./audio\";\n\nexport function setUpGame() {\n  const tab = document.querySelector(\".game\");\n  tab.innerHTML = \"\";\n  tab.append(generateStats(), generateBoard(), generateButton());\n}\n\nfunction generateStats() {\n  const stats = document.createElement(\"div\");\n  stats.classList.add(\"stats\");\n\n  const time = document.createElement(\"div\");\n  time.classList.add(\"stats__time\");\n  time.textContent = \"60\";\n\n  const score = document.createElement(\"div\");\n  score.classList.add(\"stats__score\");\n  score.textContent = \"0/100\";\n\n  const lives = document.createElement(\"div\");\n  lives.classList.add(\"stats__lives\");\n\n  const livesLost = document.createElement(\"span\");\n  livesLost.classList.add(\"lives__lost\");\n\n  const livesCurrent = document.createElement(\"span\");\n  livesCurrent.classList.add(\"lives__current\");\n  livesCurrent.textContent = \"###\";\n\n  lives.append(livesLost, livesCurrent);\n  stats.append(time, score, lives);\n  return stats;\n}\n\nfunction generateBoard() {\n  const board = document.createElement(\"div\");\n  board.classList.add(\"board\");\n  for (let i = 0; i < 9; i++) {\n    board.appendChild(generateTile(i));\n  }\n  return board;\n}\n\nfunction generateTile(i) {\n  let tile = document.createElement(\"div\");\n  tile.classList.add(\"board__tile\");\n  tile.id = i.toString();\n\n  let tileCap = document.createElement(\"img\");\n  tileCap.classList.add(\"tile__cap\");\n  tileCap.draggable = false;\n  tileCap.src = `./assets/images/${i}.png`;\n  tile.appendChild(tileCap);\n  return tile;\n}\n\nfunction generateButton() {\n  const button = document.createElement(\"button\");\n  button.classList.add(\"main__button\", \"button\");\n  button.textContent = \"Начать\";\n  button.addEventListener(\"click\", handleButtonClick);\n  button.addEventListener(\"touchstart\", handleButtonClick);\n  return button;\n}\n\nfunction handleButtonClick(event) {\n  event.preventDefault();\n\n  if (checkName()) {\n    if (gameOver) {\n      startGame();\n    } else {\n      resetGame();\n    }\n  } else {\n    generateAlert();\n  }\n}\n\nfunction generateAlert() {\n  const dialog = document.querySelector(\".dialog\");\n  const dialogMessage = document.querySelector(\".dialog__message\");\n  dialog.addEventListener(\n    \"close\",\n    () => {\n      input.focus();\n    },\n    { once: true }\n  );\n\n  dialogMessage.textContent = \"Введите имя и нажмите Enter, чтобы продолжить!\";\n  dialog.showModal();\n\n  playSound(\"notification\");\n}\n","export const rulesTexts = {\n  text1:\n    \"В этой игре у тебе нужно отыграться на Reviewer1, который однажды необоснованно завалил тебя на кросс-чеке.\",\n  text2:\n    'Попади по Reviewer1, чтобы получить <span class=\"rules__score\">10 баллов</span>. Будь осторожен, не обижай ни в чём не виновного наблюдателя, иначе получишь предупреждение - <span class=\"rules__life\">#</span>.',\n  text3:\n    'Твоя задача набрать <span class=\"rules__score\">100 баллов</span> за <span class=\"rules__time\">60 секунд</span>. Игра закончится, если тебе вынесли три предупреждения или закончилось время.',\n  text4:\n    \"Выиграй в режиме фонарика (доступно только на компьютерах), чтобы удвоить очки в конце игры.\",\n};\n","import { rulesTexts } from \"./texts\";\n\nexport function generateRulesTab() {\n  const tab = document.querySelector(\".rules\");\n  tab.innerHTML = '';\n\n  const text1 = document.createElement(\"p\");\n  text1.classList.add(\"rules__text\");\n  text1.textContent = rulesTexts.text1;\n\n  const text2 = document.createElement(\"p\");\n  text2.classList.add(\"rules__text\");\n  text2.innerHTML = rulesTexts.text2;\n\n  const text3 = document.createElement(\"p\");\n  text3.classList.add(\"rules__text\");\n  text3.innerHTML = rulesTexts.text3;\n\n  const text4 = document.createElement(\"p\");\n  text4.classList.add(\"rules__text\");\n  text4.innerHTML = rulesTexts.text4;\n\n  const container = document.createElement(\"div\");\n  container.classList.add(\"rules__container\");\n\n  const figure1 = createFigure(\n    \"./assets/images/mole_0.svg\",\n    \"reviewer\",\n    \"Reviewer1\"\n  );\n\n  const figure2 = createFigure(\n    \"./assets/images/mole_1.svg\",\n    \"viewer\",\n    \"Viewer\"\n  );\n\n  container.append(figure1, figure2);\n  tab.append(text1, text2, text3, text4, container);\n}\n\nfunction createFigure(imgSrc, altText, captionText) {\n  const figure = document.createElement(\"figure\");\n  figure.classList.add(\"rules__figure\");\n\n  const img = document.createElement(\"img\");\n  img.src = imgSrc;\n  img.alt = altText;\n  img.classList.add(\"rules__img\");\n\n  const caption = document.createElement(\"figcaption\");\n  caption.classList.add(\"rules__caption\");\n  caption.textContent = captionText;\n\n  figure.append(img, caption);\n  return figure;\n}\n","import { generateRulesTab } from \"./rules\";\nimport { generateScoreTab } from \"./score\";\nimport { generateLeaderboardTab } from \"./leaderboard\";\nimport { setUpGame } from \"./game-setup\";\nimport { resetGame } from \"./game-logic\";\n\nconst tabButtons = document.querySelectorAll(\".menu__item\");\nconst tabs = document.querySelectorAll(\".tab\");\n\nconst tabActions = {\n  rules: generateRulesTab,\n  score: generateScoreTab,\n  leaderboard: generateLeaderboardTab,\n  game: setUpGame,\n};\n\n\ntabButtons.forEach((button, i) => {\n  button.addEventListener(\"click\", () => {\n    if (!tabs[i].classList.contains(\"score\")) resetGame();\n\n    tabButtons.forEach((b) => b.classList.remove(\"menu__active\"));\n    tabs.forEach((tab) => tab.classList.add(\"hidden\"));\n\n    button.classList.add(\".menu__active\");\n    tabs[i].classList.remove(\"hidden\");\n    \n    const tabClassList = Array.from(tabs[i].classList);\n    tabClassList.forEach((className) => {\n      if (tabActions[className]) {\n        tabActions[className]();\n      }\n    });\n  });\n});\n","import \"./styles/main.css\";\nimport { setUpGame } from \"./js/game-setup.js\";\nimport \"./js/input.js\";\nimport \"./js/tabs.js\";\n\n\nwindow.onload = function () {\n  setUpGame();\n};\n"],"names":["saveScore","score","scores","a","b","generateScoreTab","scoresJson","storedScores","tab","scoreList","index","listItem","binId","apiKey","apiUrl","getScores","error","updateScores","newScore","currentScores","generateLeaderboardTab","loader","leaderboardList","player","hitViewer","hitReviewer","backgroundSound","notification","isMuted","sounds","playSound","soundName","sound","playBackgroundSound","background","stopBackgroundSound","soundIcon","muteButton","toggleMuteIcon","isFlashOn","gameOver","lives","moleInterval","timer","countdown","toRemove","isCapLifted","currentMoleTile","startGame","resetStats","placeMole","setCountdown","toggleCurrentCap","removeLastMole","createMole","moleType","getRandomMole","mole","handleClick","id","getRandomTile","event","endGame","updateLives","life","resetGame","clearIntervals","tileCap","finalScore","calculateScore","newEntry","generateScoreEntry","generateScoreAlert","currentScore","dialog","dialogMessage","isDouble","flashlight","flashContainer","flashButton","toggleFlash","x","y","setFlashlightStyles","input","check","saveName","name","savedName","checkName","setUpGame","generateStats","generateBoard","generateButton","stats","time","livesLost","livesCurrent","board","i","generateTile","tile","button","handleButtonClick","generateAlert","rulesTexts","generateRulesTab","text1","text2","text3","text4","container","figure1","createFigure","figure2","imgSrc","altText","captionText","figure","img","caption","tabButtons","tabs","tabActions","className"],"mappings":"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"}